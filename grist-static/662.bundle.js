"use strict";(self.webpackChunkgristy=self.webpackChunkgristy||[]).push([[662],{68662:(e,t,n)=>{n.r(t),n.d(t,{SupportGristPage:()=>T});var i=n(27001),o=n(70387),r=n(3988),s=n(12756),a=n(31077),l=n(24894),p=n(39706),d=n(46077),h=n(20959),m=n(11187),u=n(29922),c=n(7454),g=n(4425),y=n(99002),b=n(64978),f=n(36322),x=n(1310);const v=(0,x.makeTestId)("test-support-grist-page-"),_=(0,o.makeT)("SupportGristPage");class T extends x.Disposable{constructor(e){super(),this._appModel=e,this._model=new s.$(this._appModel),this._optInToTelemetry=x.Computed.create(this,this._model.prefs,((e,t)=>t?"off"!==t.telemetryLevel.value:null)).onWrite((async e=>{const t=e?"limited":"off";await this._model.updateTelemetryPrefs({telemetryLevel:t})})),this._model.fetchTelemetryPrefs().catch(reportError)}buildDom(){const e=x.Observable.create(this,!1);return(0,p.J)({leftPanel:{panelWidth:x.Observable.create(this,240),panelOpen:e,hideOpener:!0,header:x.dom.create(a.t,this._appModel),content:(0,l.I$)(this._appModel,e)},headerMain:this._buildMainHeader(),contentTop:(0,i.D)(this._appModel),contentMain:this._buildMainContent()})}_buildMainHeader(){return x.dom.frag((0,h.xn)({style:"margin-left: 16px;"},(0,g.Y3)((0,r.urlState)().setLinkUrl({}),_("Home")),(0,h.kr)(" / "),(0,x.dom)("span",_("Support Grist"))),(0,d._)(this._appModel))}_buildMainContent(){return k(S((0,x.dom)("div",G(_("Support Grist")),this._buildTelemetrySection(),this._buildSponsorshipSection())))}_buildTelemetrySection(){return M(w(_("Telemetry")),x.dom.domComputed(this._model.prefs,(e=>{if(null===e)return B((0,y.M)());const{activation:t}=(0,f.getGristConfig)();return(null==t?void 0:t.isManager)?[C(_("Support Grist by opting in to telemetry, which helps us understand how the product is used, so that we can prioritize future improvements.")),C(_("We only collect usage statistics, as detailed in our {{link}}, never document contents.",{link:(0,g.Y3)(_("Help Center"),{href:b.PH.helpTelemetryLimited,target:"_blank"})})),C(_("You can opt out of telemetry at any time from this page.")),this._buildTelemetrySectionButtons(e)]:"limited"===e.telemetryLevel.value?[C(_("This instance is opted in to telemetry. Only the site administrator has permission to change this."))]:[C(_("This instance is opted out of telemetry. Only the site administrator has permission to change this."))]})),v("telemetry-section"))}_buildTelemetrySectionButtons(e){const{telemetryLevel:{value:t,source:n}}=e;return"preferences"===n?x.dom.domComputed(this._optInToTelemetry,(e=>e?[H(_("You have opted in to telemetry. Thank you!")," 🙏",v("telemetry-section-message")),P(_("Opt out of Telemetry"),x.dom.on("click",(()=>this._optInToTelemetry.set(!1))))]:[L(_("Opt in to Telemetry"),x.dom.on("click",(()=>this._optInToTelemetry.set(!0))))])):H("off"!==t?[_("You have opted in to telemetry. Thank you!")," 🙏"]:_("You have opted out of telemetry."),v("telemetry-section-message"))}_buildSponsorshipSection(){return M(w(_("Sponsor Grist Labs on GitHub")),C(_("Grist software is developed by Grist Labs, which offers free and paid hosted plans. We also make Grist code available under a standard free and open OSS license (Apache 2.0) on {{link}}.",{link:(0,g.Y3)(_("GitHub"),{href:b.PH.githubGristCore,target:"_blank"})})),C(_("You can support Grist open-source development by sponsoring us on our {{link}}.",{link:(0,g.Y3)(_("GitHub Sponsors page"),{href:b.PH.githubSponsorGristLabs,target:"_blank"})})),C(_("We are a small and determined team. Your support matters a lot to us. It also shows to others that there is a determined community behind this product.")),Y(O((0,c.icon)("Heart"),$(_("Manage Sponsorship"))),{href:b.PH.githubSponsorGristLabs,target:"_blank"}),v("sponsorship-section"))}}const k=(0,x.styled)("div",`\n  overflow: auto;\n  padding: 64px 80px;\n\n  @media ${u.mediaSmall} {\n    & {\n      padding: 0px;\n    }\n  }\n`),S=(0,x.styled)("div","\n  padding: 16px;\n  max-width: 600px;\n  width: 100%;\n"),G=(0,x.styled)("div",`\n  height: 32px;\n  line-height: 32px;\n  margin-bottom: 24px;\n  color: ${u.theme.text};\n  font-size: 24px;\n  font-weight: ${u.vars.headerControlTextWeight};\n`),w=(0,x.styled)("div",`\n  height: 24px;\n  line-height: 24px;\n  margin-bottom: 24px;\n  color: ${u.theme.text};\n  font-size: ${u.vars.xlargeFontSize};\n  font-weight: ${u.vars.headerControlTextWeight};\n`),M=(0,x.styled)("div","\n  margin-bottom: 60px;\n"),C=(0,x.styled)("div",`\n  color: ${u.theme.text};\n  font-size: 14px;\n  line-height: 20px;\n  margin-bottom: 12px;\n`),H=(0,x.styled)(C,"\n  line-height: 40px;\n  font-weight: 600;\n  margin-top: 24px;\n  margin-bottom: 0px;\n"),L=(0,x.styled)(m.bigPrimaryButton,"\n  margin-top: 24px;\n"),P=(0,x.styled)(m.bigBasicButton,"\n  margin-top: 24px;\n"),Y=(0,x.styled)(m.bigBasicButtonLink,"\n  margin-top: 24px;\n"),O=(0,x.styled)("div","\n  display: flex;\n  align-items: center;\n"),$=(0,x.styled)("span","\n  margin-left: 8px;\n"),B=(0,x.styled)("div","\n  margin-top: 24px;\n  text-align: center;\n")},27001:(e,t,n)=>{function i(e){return null}function o(e){return null}n.d(t,{A:()=>o,D:()=>i})}}]);
//# sourceMappingURL=662.bundle.js.map