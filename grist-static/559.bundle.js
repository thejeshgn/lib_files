(self.webpackChunkgristy=self.webpackChunkgristy||[]).push([[559],{11104:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ACIndexImpl:()=>d,buildHighlightedDom:()=>m,highlightNone:()=>c,normalizeText:()=>l});var o=n(83277);const s=n(41469),i=n(8308),r=n(95030);function l(e){return i(e).trim().toLowerCase()}const a=/[\s!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~]+/,c=e=>[e];class d{constructor(e,t=50,n=!1){this._maxResults=t,this._keepOrder=n,this._allItems=e.slice(0);const s=[];for(let e=0;e<this._allItems.length;e++){const t=this._allItems[e].cleanText.split(a).filter((e=>e));for(let n=0;n<t.length;n++)s.push({word:t[n],index:e,pos:n})}s.sort(((e,t)=>(0,o.localeCompare)(e.word,t.word))),this._words=s}search(e){const t=l(e),n=t.split(a).filter((e=>e)),i=new Map;if(n.length>0){for(let e=0;e<n.length;e++){const t=n[e];for(const[n,o]of this._findOverlaps(t,e))i.set(n,(i.get(n)||0)+o)}for(const[e,n]of i)this._allItems[e].cleanText.startsWith(t)&&i.set(e,n+1)}const r=Array.from(i).sort(((e,t)=>(0,o.nativeCompare)(t[1],e[1])||(0,o.nativeCompare)(e[0],t[0]))).slice(0,this._maxResults),d=r.map((([e,t])=>e));for(let e=0;e<this._allItems.length&&d.length<this._maxResults;e++)this._allItems[e].cleanText&&!i.has(e)&&d.push(e);this._keepOrder&&d.sort(o.nativeCompare);const m=d.map((e=>this._allItems[e]));if(!t)return{items:m,highlightFunc:c,selectIndex:-1};const u=p.bind(null,n);let h=r.length>0?d.indexOf(r[0][0]):-1;return h>=0&&!function(e,t,n){if(e.cleanText.startsWith(t))return!0;const o=new RegExp(n.map((e=>"\\b"+s(e))).join(".*")),i=e.cleanText.split(a).join(" ");return o.test(i)}(m[h],t,n)&&(h=-1),{items:m,highlightFunc:u,selectIndex:h}}_findOverlaps(e,t){const n=(0,o.sortedIndex)(this._words,{word:e},((e,t)=>(0,o.localeCompare)(e.word,t.word))),s=new Map;for(const o of[1,-1]){let i=e,r=n+(o>0?0:-1);for(;i&&r>=0&&r<this._words.length;){for(;r>=0&&r<this._words.length;r+=o){const n=this._words[r];if(!n.word.startsWith(i))break;const o=i.length+(n.word===e?1:0)+Math.pow(2,-(t+n.pos));o>=(s.get(n.index)||0)&&s.set(n.index,o)}i=i.slice(0,-1)}}return s}}function m(e,t,n){return e?t(e).map(((e,t)=>t%2?n(e):e)):e}const u=new RegExp(`(${a.source})`);function p(e,t){const n=t.split(u),o=[""];for(let t=0;t<n.length;t+=2){const s=n[t],l=n[t+1]||"",a=h(i(s).toLowerCase(),e);if(0===a)o[o.length-1]+=s+l;else{const e=r(s,"");o.push(e.slice(0,a).join(""),e.slice(a).join("")+l)}}return o}function h(e,t){return t.reduce(((t,n)=>Math.max(t,function(e,t){let n=0;for(;n<e.length&&e[n]===t[n];)++n;return n}(e,n))),0)}},84462:(e,t,n)=>{"use strict";n.d(t,{H:()=>m,R:()=>c});var o=n(11104),s=n(6632),i=n(29922),r=n(7454),l=n(1370),a=n(1310);function c(e,t,...n){const{acIndex:i,valueObs:r,save:c}=t,b=a.Holder.create(e);let g;const f=()=>!b.isEmpty(),v=()=>b.isEmpty()&&s.Autocomplete.create(b,g,A),x=()=>{b.clear(),g.blur()},y=()=>{g.value=r.get(),x()},w=async()=>{await I()||y()},_=()=>{f()?w().catch((()=>{})):v()},I=async()=>{var e;const t=null==(e=b.get())?void 0:e.getSelectedItem();t&&(g.value=t.value),g.disabled=!0;try{return await c(g.value,t),x(),!0}catch(e){return!1}finally{g.disabled=!1}},A={menuCssClass:`${l.menuCssClass} test-acselect-dropdown`,search:async e=>i.search(e),renderItem:(e,t)=>m((0,o.buildHighlightedDom)(e.label,t,h)),getItemText:e=>e.value,onClick:I};return d(g=u({type:"text"},a.dom.prop("value",r),a.dom.on("focus",((e,t)=>t.select())),a.dom.on("blur",w),a.dom.prop("disabled",(e=>!!t.disabled&&e(t.disabled))),a.dom.onKeyDown({Escape:y,Enter:_,ArrowDown:v,Tab:I}),a.dom.on("input",v)),a.dom.on("mousedown",(e=>{var n;e.preventDefault(),(null==(n=t.disabled)?void 0:n.get())||(f()||g.focus(),_())})),p("Dropdown"),...n)}const d=(0,a.styled)("div",`\n  position: relative;\n  width: 100%;\n  height: 30px;\n  color: ${i.theme.selectButtonFg};\n  --icon-color: ${i.theme.selectButtonFg};\n`),m=(0,a.styled)("li",`\n  color: ${i.theme.menuItemFg};\n  display: block;\n  white-space: pre;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  outline: none;\n  padding: var(--weaseljs-menu-item-padding, 8px 24px);\n  cursor: pointer;\n\n  &.selected {\n    background-color: ${i.theme.menuItemSelectedBg};\n    color:            ${i.theme.menuItemSelectedFg};\n  }\n`),u=(0,a.styled)("input",`\n  color: ${i.theme.inputFg};\n  background-color: ${i.theme.inputBg};\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  height: 100%;\n  width: 100%;\n  padding: 0 6px;\n  outline: none;\n  border: 1px solid ${i.theme.inputBorder};\n  border-radius: 3px;\n  cursor: pointer;\n  line-height: 16px;\n  cursor: pointer;\n\n  &:disabled {\n    color: ${i.theme.inputDisabledFg};\n    background-color: ${i.theme.inputDisabledBg};\n  }\n  &:focus {\n    cursor: initial;\n    outline: none;\n    box-shadow: 0px 0px 2px 2px ${i.theme.inputFocus};\n  }\n  &::placeholder {\n    color: ${i.theme.inputPlaceholderFg};\n  }\n`),p=(0,a.styled)(r.icon,"\n  position: absolute;\n  right: 6px;\n  top: calc(50% - 8px);\n"),h=(0,a.styled)("span",`\n  color: ${i.theme.autocompleteMatchText};\n  .selected > & {\n    color: ${i.theme.autocompleteSelectedMatchText};\n  }\n`)},85842:(e,t,n)=>{"use strict";n.r(t),n.d(t,{copyToClipboard:()=>s,readDataFromClipboard:()=>r,readTextFromClipboard:()=>i});const o=(0,n(11527).get)("document","window");async function s(e){"string"==typeof e?await async function(e){if(o.window.navigator&&o.window.navigator.clipboard&&o.window.navigator.clipboard.writeText)try{return void await o.window.navigator.clipboard.writeText(e)}catch(e){}const t=o.document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-10000px",o.document.body.appendChild(t);const n=o.document.getSelection().rangeCount>0&&o.document.getSelection().getRangeAt(0);t.select(),o.document.execCommand("copy"),o.document.body.removeChild(t),n&&(o.document.getSelection().removeAllRanges(),o.document.getSelection().addRange(n))}(e):await async function(e){var t,n;if(!(null==(n=null==(t=o.window.navigator)?void 0:t.clipboard)?void 0:n.write))throw new Error("navigator.clipboard.write is not supported on this browser");await o.window.navigator.clipboard.write([e])}(e)}function i(){var e,t;if(!(null==(t=null==(e=o.window.navigator)?void 0:e.clipboard)?void 0:t.readText))throw new Error("navigator.clipboard.readText is not supported on this browser");return o.window.navigator.clipboard.readText()}function r(){var e,t;if(!(null==(t=null==(e=o.window.navigator)?void 0:e.clipboard)?void 0:t.read))throw new Error("navigator.clipboard.read is not supported on this browser");return o.window.navigator.clipboard.read()}},80864:(e,t,n)=>{"use strict";n.r(t),n.d(t,{setTestState:()=>s});const o=(0,n(11527).get)("window");function s(e){"testGrist"in o.window||(o.window.testGrist={}),Object.assign(o.window.testGrist,e)}},19058:(e,t,n)=>{"use strict";n.d(t,{KA:()=>u,ND:()=>h,T7:()=>l,XL:()=>a,bE:()=>v,dg:()=>b,fe:()=>f,gE:()=>m,hS:()=>p,j$:()=>g,rk:()=>c,tE:()=>d});var o=n(29922),s=n(7454),i=n(1310),r=n(21467);const l=(0,i.styled)("div","\n  display: flex;\n  width: 460px;\n  min-height: 64px;\n  margin: 0 auto;\n  padding: 12px 0;\n"),a=(0,i.styled)("div",`\n  width: 40px;\n  height: 40px;\n  margin: 0 4px;\n  border-radius: 20px;\n  background-color: ${o.colors.lightGreen};\n  background-size: cover;\n\n  .${l.className}-removed & {\n    opacity: 0.4;\n  }\n`),c=(0,i.styled)("div",`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 2px 12px;\n  flex: 1 1 0;\n  min-width: 0px;\n  font-size: ${o.vars.mediumFontSize};\n\n  .${l.className}-removed & {\n    opacity: 0.4;\n  }\n`),d=(0,i.styled)("span",`\n  font-weight: bold;\n  color: ${o.theme.text};\n  padding: 2px 0;\n\n  .${r.cssMenuItem.className}-sel & {\n    color: ${o.theme.menuItemSelectedFg};\n  }\n`),m=(0,i.styled)("span",`\n  color: ${o.theme.lightText};\n  /* the following just undo annoying bootstrap styles that apply to all labels */\n  margin: 0px;\n  font-weight: normal;\n  padding: 2px 0;\n  white-space: nowrap;\n\n  .${r.cssMenuItem.className}-sel & {\n    color: ${o.theme.menuItemSelectedFg};\n  }\n`),u=(0,i.styled)("span",`\n  color: ${o.theme.lightText};\n  /* the following just undo annoying bootstrap styles that apply to all labels */\n  margin: 0px;\n  font-weight: normal;\n  padding: 2px 0;\n  white-space: nowrap;\n\n  .${r.cssMenuItem.className}-sel & {\n    color: ${o.theme.menuItemSelectedFg};\n  }\n`),p=(0,i.styled)("span",`\n  color: ${o.theme.errorText};\n  /* the following just undo annoying bootstrap styles that apply to all labels */\n  margin: 0px;\n  font-weight: normal;\n  padding: 2px 0;\n  white-space: nowrap;\n\n  .${r.cssMenuItem.className}-sel & {\n    color: ${o.theme.menuItemSelectedFg};\n  }\n`),h=(0,i.styled)("div","\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n\n  &-disabled {\n    opacity: 0.3;\n    cursor: default;\n  }\n"),b=(0,i.styled)(s.icon,`\n  background-color: ${o.theme.lightText};\n  margin: 12px 0;\n`),g=(0,i.styled)("div",`\n  position: relative;\n  display: flex;\n  height: 42px;\n  padding: 0 3px;\n  margin: 16px 63px;\n  border: 1px solid ${o.theme.inputBorder};\n  border-radius: 3px;\n  font-size: ${o.vars.mediumFontSize};\n  outline: none;\n\n  &-green {\n    border: 1px solid ${o.theme.inputValid};\n  }\n`),f=(0,i.styled)(i.input,`\n  color: ${o.theme.inputFg};\n  background-color: ${o.theme.inputBg};\n  flex: 1 1 0;\n  font-size: ${o.vars.mediumFontSize};\n  font-family: ${o.vars.fontFamily};\n  outline: none;\n  border: none;\n\n  &::placeholder {\n    color: ${o.theme.inputPlaceholderFg};\n  }\n`),v=(0,i.styled)(s.icon,`\n  margin: 12px 8px 12px 13px;\n  background-color: ${o.theme.lightText};\n`)},51559:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ACMemberEmail:()=>ye,UserManager:()=>xe,showUserManagerModal:()=>ve});var o=n(70387),s=n(64978),i=n(83277),r=n(51503),l=n(1310),a=n(11104),c=n(85842),d=n(80864),m=n(20742),u=n(11187),p=n(29922),h=n(7454),b=n(91033),g=n(1370);function f(e,t){const n=(t.isOrg?t.orgUserSelectOptions:t.userSelectOptions).filter((e=>(0,r.QS)(e.value)));return _((0,g.menu)((()=>[l.dom.forEach(n,(t=>(0,g.menuItem)((()=>e.set(t.value)),t.label,(0,p.testId)("um-role-option"))))])),l.dom.text((t=>{const o=n.find((n=>t(e)===n.value));return o?o.label:""})),I("Collapse"),(0,p.testId)("um-role-select"))}function v(e,t,...n){return $(e,{onInput:!0,isValid:t},{placeholder:"Enter one email address per line"},l.dom.on("change",(e=>t.set(!0))),...n)}const x=(0,l.styled)(m.cssModalTitle,`\n  margin: 40px 64px 0 64px;\n\n  @media ${p.mediaXSmall} {\n    & {\n      margin: 16px;\n    }\n  }\n`),y=(0,l.styled)("span","\n  margin: 13px 63px 42px;\n"),w=(0,l.styled)("span",`\n  margin: 0 63px;\n  color: ${p.theme.errorText};\n`),_=(0,l.styled)("span",`\n  display: inline-flex;\n  font-size: ${p.vars.mediumFontSize};\n  color: ${p.theme.controlFg};\n  cursor: pointer;\n`),I=(0,l.styled)(h.icon,`\n  margin-top: 1px;\n  background-color: ${p.theme.controlFg};\n`),A=(0,l.styled)("div",`\n  display: flex;\n  flex-direction: column;\n  width: 600px;\n  font-size: ${p.vars.mediumFontSize};\n`),T=(0,l.styled)(A,`\n  height: 374px;\n  border-bottom: 1px solid ${p.theme.modalBorderDark};\n`),$=(0,l.styled)(b.J7,`\n  margin: 16px 63px;\n  padding: 12px 10px;\n  border-radius: 3px;\n  resize: none;\n  border: 1px solid ${p.theme.inputBorder};\n  color: ${p.theme.inputFg};\n  background-color: ${p.theme.inputBg};\n  flex: 1 1 0;\n  font-size: ${p.vars.mediumFontSize};\n  font-family: ${p.vars.fontFamily};\n  outline: none;\n\n  &::placeholder {\n    color: ${p.theme.inputPlaceholderFg};\n  }\n`);var S=n(84462),E=n(6632),M=n(19058),D=n(18222),C=n(21467);const k=(0,o.makeT)("ACUserManager");const O=(0,l.styled)(M.tE,`\n  .${S.H.className}.selected & {\n    color: ${p.theme.menuItemSelectedFg};\n  }\n`),P=(0,l.styled)(M.gE,`\n  .${S.H.className}.selected & {\n    color: ${p.theme.menuItemSelectedFg};\n  }\n`),F=(0,l.styled)("span",`\n  color: ${p.theme.autocompleteMatchText};\n  .${S.H.className}.selected & {\n    color: ${p.theme.autocompleteSelectedMatchText};\n  }\n`),R=(0,l.styled)(D._s,`\n  background-color: ${p.colors.lightGreen};\n  margin: auto 0;\n\n  &-invalid {\n    background-color: ${p.colors.mediumGrey};\n  }\n\n  .${C.cssMenuItem.className}-sel & {\n    background-color: ${p.theme.menuItemIconSelectedFg};\n    color: ${p.theme.menuItemSelectedBg};\n  }\n`);var U,z,N=n(92769),B=n(3988),j=n(49668),L=n(4294);class V{constructor(e,t,n={}){this._product=e,this._state=t,this._options=n,this._features=null!=(z=null==(U=this._product)?void 0:U.features)?z:{},this._supportEmail=this._options.supportEmail}updateState(e){this._state=e}annotateChanges(e){const t=this._features,n={hasTeam:!this._product||(0,j.F)(this._product.name),users:new Map};if(t.maxSharesPerDocPerRole||t.maxSharesPerWorkspace)return n;const o=t.maxSharesPerDoc;let s=0;const i=e=>{const t={isMember:e.isMember};return e.isSupport?{isSupport:!0}:(!t.isMember&&e.access&&(s++,t.collaboratorLimit={at:s,top:o}),t)},r=new Set(Object.entries((null==e?void 0:e.users)||{}).filter((([,e])=>null===e)).map((([e])=>(0,L.R)(e))));for(const e of this._state.users)r.has(e.email)||(e.isMember||e.access)&&n.users.set(e.email,i(e));const l=new Set(Object.entries((null==e?void 0:e.users)||{}).filter((([,e])=>null!==e)).map((([e])=>(0,L.R)(e))));for(const e of l){const t=n.users.get(e)||i({email:e,isMember:!1,isSupport:Boolean(""!==e.trim()&&e===this._supportEmail),access:"<set>"});n.users.set(e,t)}return n}}var H,G,Y,W,K,J,X=n(36322),Z=n(58375),q=Object.defineProperty,Q=Object.defineProperties,ee=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,se=(e,t,n)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ie=(e,t)=>{for(var n in t||(t={}))ne.call(t,n)&&se(e,n,t[n]);if(te)for(var n of te(t))oe.call(t,n)&&se(e,n,t[n]);return e},re=(e,t)=>Q(e,ee(t));const le=n(2278),ae=(0,o.makeT)("UserManagerModel");class ce extends l.Disposable{constructor(e,t,n){if(super(),this.initData=e,this.resourceType=t,this._options=n,this.userSelectOptions=[{value:r.vP,label:ae("Owner")},{value:r.Uw,label:ae("Editor")},{value:r.ad,label:ae("Viewer")}],this.orgUserSelectOptions=[{value:r.vP,label:ae("Owner")},{value:r.Uw,label:ae("Editor")},{value:r.ad,label:ae("Viewer")},{value:r.Dl,label:ae("No Default Access")}],this.inheritSelectOptions=[{value:r.vP,label:ae("In Full")},{value:r.Uw,label:ae("View & Edit")},{value:r.ad,label:ae("View Only")},{value:null,label:ae("None")}],this.publicUserSelectOptions=[{value:r.Uw,label:ae("Editor")},{value:r.ad,label:ae("Viewer")}],this.activeUser=null!=(H=this._options.activeUser)?H:null,this.resource=null!=(G=this._options.resource)?G:null,this.maxInheritedRole=(0,l.observable)(this.initData.maxInheritedRole||null),this.publicMember=this._buildPublicMember(),this.membersEdited=this.autoDispose((0,l.obsArray)(this._buildAllMembers())),this.annotations=this.autoDispose((0,l.observable)({users:new Map})),this.isPersonal=null!=(Y=this.initData.personal)&&Y,this.isPublicMember=null!=(W=this.initData.public)&&W,this.isOrg="organization"===this.resourceType,this.gristDoc=null!=(J=null==(K=this._options.docPageModel)?void 0:K.gristDoc.get())?J:null,this.isAnythingChanged=this.autoDispose((0,l.computed)((e=>{const t=t=>t.isNew||t.isRemoved||e(t.access)!==t.origAccess,n=!this.isOrg&&e(this.maxInheritedRole)!==this.initData.maxInheritedRole;return le(e(this.membersEdited),t)||n||!!this.publicMember&&t(this.publicMember)}))),this.isSelfRemoved=this.autoDispose((0,l.computed)((e=>le(e(this.membersEdited),(e=>{var t;return e.isRemoved&&e.email===(null==(t=this.activeUser)?void 0:t.email)}))))),this._options.appModel){const t=this._options.appModel.currentProduct,{supportEmail:n}=(0,X.getGristConfig)();this._shareAnnotator=new V(t,e,{supportEmail:n})}this.annotate()}reset(){this.membersEdited.set(this._buildAllMembers()),this.annotate()}async reloadAnnotations(){if(!this._options.reload||!this._shareAnnotator)return;const e=await this._options.reload();this._shareAnnotator.updateState(e),this.annotate()}async save(e,t){"organization"===this.resourceType?await e.updateOrgPermissions(t,this.getDelta()):"workspace"===this.resourceType?await e.updateWorkspacePermissions(t,this.getDelta()):"document"===this.resourceType&&await e.updateDocPermissions(t,this.getDelta())}add(e,t){e=(0,L.R)(e);const n=this.membersEdited.get(),o=n.findIndex((t=>t.email===e)),s=o>-1?n[o]:null;if(s&&s.isRemoved)this.membersEdited.splice(o,1,re(ie({},s),{isRemoved:!1}));else if(s){const e=s.effectiveAccess.get();if(e&&e!==r._5)throw new Error("This user is already in the list");s.access.set(t),s.isNew=!0}else{const n=this._buildEditableMember({id:-1,email:e,name:"",access:t,parentAccess:null});n.isNew=!0,this.membersEdited.push(n)}this.annotate()}remove(e){const t=this.membersEdited.get().indexOf(e);e.isNew?this.membersEdited.splice(t,1):this.membersEdited.splice(t,1,re(ie({},e),{isRemoved:!0})),this.annotate()}isActiveUser(e){var t;return e.email===(null==(t=this.activeUser)?void 0:t.email)}annotate(){this._shareAnnotator&&this.annotations.set(this._shareAnnotator.annotateChanges(this.getDelta({silent:!0})))}getDelta(e){const t={users:{}};if("organization"!==this.resourceType){const e=this.maxInheritedRole.get();this.initData.maxInheritedRole!==e&&(t.maxInheritedRole=e)}const n=[...this.membersEdited.get()];this.publicMember&&n.push(this.publicMember);for(const o of n){const n=o.access.get();if(r.LL(n))(o.isNew||o.isRemoved||o.origAccess!==n)&&(t.users[o.email]=o.isRemoved?null:n);else if(!(null==e?void 0:e.silent))throw new Error(`Cannot update user to invalid role ${n}`)}return t}_buildAllMembers(){let e=this.initData.users;const t=this.publicMember;return t&&(e=e.filter((e=>e.email!==t.email))),e.map((e=>this._buildEditableMember({id:e.id,email:e.email,name:e.name,picture:e.picture,access:e.access,parentAccess:e.parentAccess||null,isTeamMember:e.isMember})))}_buildPublicMember(){const e=(window.gristConfig||{}).supportAnon?Z._J:"document"===this.resourceType?Z.CF:null;if(!e)return null;const t=this.initData.users.find((t=>t.email===e));return this._buildEditableMember({id:t?t.id:-1,email:e,name:"",access:t?t.access:null,parentAccess:t&&t.parentAccess||null})}_buildEditableMember(e){var t;const n=l.Observable.create(this,e.access);let o;if(e.email===(null==(t=this.activeUser)?void 0:t.email)){const t=r.Vf((0,Z.U9)(e,this.initData));o=l.Computed.create(this,(e=>t))}else o=l.Computed.create(this,this.maxInheritedRole,((t,n)=>r.VJ(e.parentAccess,n)));const s=l.Computed.create(this,(e=>r.ub(e(n),e(o))));return s.onWrite((e=>{const t=o.get(),s=r.ub(e,t)!==t;n.set(s?e:null)})),{id:e.id,email:e.email,name:e.name,picture:e.picture,access:n,parentAccess:e.parentAccess||null,inheritedAccess:o,effectiveAccess:s,origAccess:e.access,isNew:!1,isRemoved:!1,isTeamMember:e.isTeamMember}}}function de(e){return"workspace"===e?"organization":"document"===e?"workspace":null}var me=n(7485),ue=n(98987),pe=n(8881),he=n(4425),be=n(99002);const ge=n(68525),fe=(0,o.makeT)("UserManager");function ve(e,t){const n=(0,l.observable)(null),o=async function(e){const t=await e.permissionData;return new ce(t,e.resourceType,ge(e,["activeUser","reload","appModel","docPageModel","resource"]))}(t).then((e=>n.set(e))).catch(N.reportError);return(0,i.isLongerThan)(o,400).then((e=>e&&n.set("slow"))).catch((()=>{})),function(e,t,n){return(0,m.modal)((o=>[{style:"padding: 0;"},n.showAnimation?l.dom.cls(m.cssAnimatedModal.className):null,l.dom.domComputed(e,(e=>{if(!e)return null;if("slow"===e)return Ae((0,be.M)());const s=e.isPersonal?_e:Ie;return[Be((i=n.resourceType,r=n.resource,a=e.isPersonal,"organization"===i?a?fe("Your role for this team site"):[fe("Manage members of team site"),r?ze(`${r.name} (`,Ne(`${r.domain}.getgrist.com`),")"):null]:fe(a?"Your role for this {{resourceType}}":"Invite people to {{resourceType}}",{resourceType:i})),"document"!==n.resourceType||e.isPersonal&&!e.isPublicMember?null:we(n.linkToCopy,Te.cls("-header")),(0,p.testId)("um-header")),(0,m.cssModalBody)(s(new xe(e,ge(n,"linkToCopy","docPageModel","appModel","prompt","resource")).buildDom())),(0,m.cssModalButtons)({style:"margin: 32px 64px; display: flex;"},e.isPublicMember?null:(0,u.bigPrimaryButton)(fe("Confirm"),l.dom.boolAttr("disabled",(t=>!t(e.isAnythingChanged))),l.dom.on("click",(()=>t(o))),(0,p.testId)("um-confirm")),(0,u.bigBasicButton)(e.isPublicMember?fe("Close"):fe("Cancel"),l.dom.on("click",(()=>o.close())),(0,p.testId)("um-cancel")),"document"===e.resourceType&&e.gristDoc&&!e.isPersonal?(0,pe.withInfoTooltip)((0,he.Y3)({href:(0,B.urlState)().makeUrl({docPage:"acl"})},l.dom.text((t=>t(e.isAnythingChanged)?fe("Save & "):"")),fe("Open Access Rules"),l.dom.on("click",(e=>(e.preventDefault(),t(o).then((()=>(0,B.urlState)().pushUrl({docPage:"acl"})))))),(0,p.testId)("um-open-access-rules")),me.D.openAccessRules(),{domArgs:[Ue.cls("")]}):null,(0,p.testId)("um-buttons"))];var i,r,a}))]))}(n,(async function(o){const s=n.get();if(!s||"slow"===s)return void o.close();const i=async()=>{var n;try{const i=s.isAnythingChanged.get();i&&await s.save(e,t.resourceId),await(null==(n=t.onSave)?void 0:n.call(t,s.isPersonal)),o.close(),s.isPersonal&&i&&window.location.reload()}catch(e){(0,N.reportError)(e)}};if(s.isSelfRemoved.get()){const e=function(e){return"organization"===e?fe("team site"):e}(s.resourceType);(0,m.confirmModal)(fe("You are about to remove your own access to this {{resourceType}}",{resourceType:e}),fe("Remove my access"),i,{explanation:fe("Once you have removed your own access, you will not be able to get it back without assistance from someone else with sufficient access to the {{resourceType}}.",{resourceType:e})})}else i().catch(N.reportError)}),t)}class xe extends l.Disposable{constructor(e,t){super(),this._model=e,this._options=t}buildDom(){return this._model.isPublicMember?this._buildSelfPublicAccessDom():this._model.isPersonal?this._buildSelfAccessDom():[this.autoDispose(new ye(this._onAdd.bind(this),this._model.membersEdited.get(),this._options.prompt)).buildDom(),this._buildOptionsDom(),this._dom=(0,ue.a)((0,p.testId)("um-members"),this._buildPublicAccessMember(),l.dom.forEach(this._model.membersEdited,(e=>this._buildMemberDom(e))))]}_onAddOrEdit(e,t){const n=this._model.membersEdited.get().find((t=>t.email===e));n?n.access.set(t):this._onAdd(e,t)}_onAdd(e,t){var n;this._model.add(e,t),null==(n=Array.from(this._dom.querySelectorAll(".member-email")).find((t=>t.textContent===e)))||n.scrollIntoView()}_buildOptionsDom(){const e=this._model.publicMember;let t;return(0,l.dom)("div",Ee((0,h.icon)("AddUser"),Me(fe("Invite multiple")),l.dom.on("click",(e=>function(e,t,n){const o=l.Observable.create(e,""),s=l.Observable.create(e,r.ad),i=l.Observable.create(e,!0),a=(0,l.computed)((e=>Boolean(e(o)&&e(s)&&e(i))));return(0,m.modal)((e=>[{style:"padding: 0;"},l.dom.cls(m.cssAnimatedModal.className),x("Invite Users",(0,p.testId)("um-header")),(0,m.cssModalBody)(T(v(o,i),l.dom.maybe((e=>!e(i)),(()=>w("At least one email is invalid"))),y((0,l.dom)("span","Access: "),f(s,t)))),(0,m.cssModalButtons)({style:"margin: 32px 64px; display: flex;"},(0,u.bigPrimaryButton)("Confirm",l.dom.boolAttr("disabled",(e=>!e(a))),l.dom.on("click",(()=>(e=>{const t=o.get().split("\n").map((e=>e.trim().toLowerCase())).filter((e=>""!==e)),r=s.get();t.some((e=>!function(e){return/\S+@\S+\.\S+/.test(e)}(e)))?i.set(!1):(t.forEach((e=>n(e,r))),e.close())})(e))),(0,p.testId)("um-confirm")),(0,u.bigBasicButton)("Cancel",l.dom.on("click",(()=>e.close())),(0,p.testId)("um-cancel")))]))}(this,this._model,((e,t)=>{this._onAddOrEdit(e,t)}))))),Se(this._model.isOrg?null:(0,l.dom)("span",{style:"float: left;"},(0,l.dom)("span","Inherit access: "),this._inheritRoleSelector()),e?(0,l.dom)("span",{style:"float: right;"},ke("PublicFilled"),(0,l.dom)("span",fe("Public access: ")),De((0,g.menu)((()=>(null==t||t.close(),[(0,g.menuItem)((()=>e.access.set(r.ad)),fe("On"),(0,p.testId)("um-public-option")),(0,g.menuItem)((()=>e.access.set(null)),fe("Off"),l.dom.cls("disabled",(t=>null!==t(e.inheritedAccess))),(0,p.testId)("um-public-option")),l.dom.maybe((t=>null!==t(e.inheritedAccess)),(()=>(0,g.menuText)(fe("Public access inherited from {{parent}}. To remove, set 'Inherit access' option to 'None'.",{parent:de(this._model.resourceType)}))))]))),l.dom.text((t=>t(e.effectiveAccess)?fe("On"):fe("Off"))),Re("Collapse"),(0,p.testId)("um-public-access")),(0,pe.hoverTooltip)((e=>(t=e,fe("Allow anyone with the link to open."))))):null))}_buildMemberDom(e){const t=l.Computed.create(null,(t=>this._model.isPersonal?!e.origAccess:Boolean(this._model.isActiveUser(e)||t(e.inheritedAccess))));return(0,l.dom)("div",l.dom.autoDispose(t),l.dom.maybe((t=>t(e.effectiveAccess)&&t(e.effectiveAccess)!==r._5),(()=>(0,M.T7)(M.T7.cls("-removed",e.isRemoved),(0,M.XL)((0,D.O_)(function(e){return{id:e.id,name:e.name,email:e.email,picture:e.picture,locale:e.locale}}(e),"large")),(0,M.rk)((0,M.tE)(e.name||e.email,e.email?l.dom.cls("member-email"):null,(0,p.testId)("um-member-name")),e.name?(0,M.gE)(e.email,l.dom.cls("member-email"),(0,p.testId)("um-member-email")):null,this._model.isPersonal?this._buildSelfAnnotationDom(e):this._buildAnnotationDom(e)),e.isRemoved?null:this._memberRoleSelector(e.effectiveAccess,e.inheritedAccess,this._model.isActiveUser(e)),(0,M.ND)(e.isRemoved?Pe("Undo",(0,p.testId)("um-member-undo")):(0,M.dg)("Remove",(0,p.testId)("um-member-delete")),M.ND.cls("-disabled",t),l.dom.on("click",(()=>t.get()||(e.isRemoved?this._model.add(e.email,e.access.get()):this._model.remove(e))))),(0,p.testId)("um-member")))))}_buildAnnotationDom(e){return l.dom.domComputed(this._model.annotations,(t=>{const n=t.users.get(e.email);if(!n)return null;if(n.isSupport)return(0,M.KA)(fe("Grist support"));if(n.isMember&&t.hasTeam)return(0,M.KA)(fe("Team member"));const o=t.hasTeam?fe("guest"):fe("free collaborator"),r=n.collaboratorLimit;if(!r||!r.top)return null;const a=[];return r.at<=r.top?a.push((0,M.KA)(fe("{{limitAt}} of {{limitTop}} {{collaborator}}s",{limitAt:r.at,limitTop:r.top,collaborator:o}))):a.push((0,M.hS)(fe("{{collaborator}} limit exceeded",{collaborator:(0,i.capitalizeFirstWord)(o)}))),t.hasTeam?a.push((0,he.Y3)({href:(0,B.urlState)().makeUrl({manageUsers:!0})},l.dom.on("click",(t=>{this._options.appModel&&(t.preventDefault(),async function(e,t,n){await(0,B.urlState)().pushUrl({manageUsers:!1});const o=e.currentValidUser,s=e.currentOrg;if(s){const i=e.api;ve(i,{permissionData:i.getOrgAccess(s.id),activeUser:o,resourceType:"organization",resourceId:s.id,resource:s,onSave:t,prompt:n,showAnimation:!0})}}(this._options.appModel,(()=>this._model.reloadAnnotations()),{email:e.email}).catch(N.reportError))})),fe("Add {{member}} to your team",{member:e.name||fe("member")}))):r.at>=r.top&&a.push((0,he.Y3)({href:s.PH.plans,target:"_blank"},fe("Create a team to share with more people"))),a}))}_buildSelfAnnotationDom(e){return l.dom.domComputed(this._model.annotations,(t=>{const n=t.users.get(e.email);if(!n)return null;let o;return o=n.isSupport?fe("Grist support"):n.isMember&&t.hasTeam?fe("Team member"):t.hasTeam?fe("Outside collaborator"):fe("Collaborator"),(0,M.KA)(o,(0,p.testId)("um-member-annotation"))}))}_buildPublicAccessMember(){const e=this._model.publicMember;return e?(0,l.dom)("div",l.dom.maybe((t=>Boolean(t(e.effectiveAccess))),(()=>(0,M.T7)(Ce("PublicFilled"),(0,M.rk)((0,M.tE)(fe("Public Access")),(0,M.gE)(fe("Anyone with link "),we(this._options.linkToCopy))),this._memberRoleSelector(e.effectiveAccess,e.inheritedAccess,!1,this._model.publicUserSelectOptions),(0,M.ND)((0,M.dg)("Remove",(0,p.testId)("um-member-delete")),l.dom.on("click",(()=>e.access.set(null)))),(0,p.testId)("um-public-member"))))):null}_buildSelfPublicAccessDom(){var e,t,n;const o=null==(e=this._options.resource)?void 0:e.access,s=null==(t=this._model.publicUserSelectOptions.find((e=>e.value===o)))?void 0:t.label,i=this._model.activeUser,r=null!=(n=null==i?void 0:i.name)?n:"Anonymous";return(0,l.dom)("div",(0,M.T7)(i?(0,M.XL)((0,D.O_)(i,"large")):Ce("PublicFilled"),(0,M.rk)((0,M.tE)(r,(0,p.testId)("um-member-name")),(null==i?void 0:i.email)?(0,M.gE)(i.email):null,je((0,l.dom)("span",fe("Public access"),(0,p.testId)("um-member-annotation")),Oe("PublicFilled"))),Fe(null!=s?s:fe("Guest"),Re("Collapse"),l.dom.cls("disabled"),(0,p.testId)("um-member-role")),(0,p.testId)("um-member")),(0,p.testId)("um-members"))}_buildSelfAccessDom(){return(0,l.dom)("div",l.dom.domComputed(this._model.membersEdited,(e=>e[0]?this._buildMemberDom(e[0]):null)),(0,p.testId)("um-members"))}_memberRoleSelector(e,t,n,o){const s=o||(this._model.isOrg?this._model.orgUserSelectOptions:this._model.userSelectOptions);return Fe(this._model.isPersonal?null:(0,g.menu)((()=>[l.dom.forEach(s,(o=>(0,g.menuItem)((()=>n||e.set(o.value)),o.label,l.dom.text((e=>e(t)&&e(t)===o.value&&!n?" (inherited)":"")),l.dom.cls("disabled",(e=>r.ub(o.value,e(t))!==o.value)),(0,p.testId)("um-role-option")))),n?(0,g.menuText)(fe("User may not modify their own access.")):null,l.dom.maybe((e=>e(t)&&!n),(()=>(0,g.menuText)(fe("User inherits permissions from {{parent}}. To remove, set 'Inherit access' option to 'None'.",{parent:de(this._model.resourceType)})))),l.dom.maybe((t=>!this._model.isOrg&&t(e)===r._5),(()=>(0,g.menuText)(fe("User has view access to {{resource}} resulting from manually-set access to resources inside. If removed here, this user will lose access to resources inside.",{resource:this._model.resourceType})))),this._model.isOrg?(0,g.menuText)(fe("No default access allows access to be granted to individual documents or workspaces, rather than the full team site.")):null])),l.dom.text((t=>{const n=s.find((n=>t(e)===n.value));return n?n.label:fe("Guest")})),Re("Collapse"),this._model.isPersonal?l.dom.cls("disabled"):null,(0,p.testId)("um-member-role"))}_inheritRoleSelector(){const e=this._model.maxInheritedRole,t=this._model.inheritSelectOptions;return De((0,g.menu)((()=>[l.dom.forEach(t,(t=>(0,g.menuItem)((()=>e.set(t.value)),t.label,(0,p.testId)("um-role-option"))))])),l.dom.text((n=>{const o=t.find((t=>n(e)===t.value));return o?o.label:""})),Re("Collapse"),(0,p.testId)("um-max-inherited-role"))}}class ye extends l.Disposable{constructor(e,t,n){super(),this._onAdd=e,this._members=t,this._prompt=n,this._email=this.autoDispose((0,l.observable)("")),n&&this._email.set(n.email)}buildDom(){const e=this._members.filter((e=>e.isTeamMember)).map((e=>function(e){return{value:e.email,label:e.email,cleanText:(0,a.normalizeText)(e.email),email:e.email,name:e.name,picture:null==e?void 0:e.picture,id:e.id}}(e)));return function(e,t,...n){const{acIndex:o,emailObs:s,save:i,prompt:r}=t,c=l.Holder.create(e);let d;const m=l.Observable.create(e,!0),u=()=>c.isEmpty()&&E.Autocomplete.create(c,d,x),h=()=>c.clear(),b=()=>{h(),s.set(""),d.value=s.get(),d.focus()},f=()=>{var e;const t=null==(e=c.get())?void 0:e.getSelectedItem();t&&s.set(t.value),d.setCustomValidity(""),m.set(d.checkValidity());const n=(null==t?void 0:t.value)||s.get();try{n&&m.get()&&(i(s.get()),b())}catch(e){d.setCustomValidity(e.message)}finally{d.reportValidity()}},v=(0,l.computed)((e=>Boolean(e(s)&&e(m)))),x={attach:null,menuCssClass:`${g.menuCssClass} test-acselect-dropdown`,search:e=>(async(e,t)=>{const n=(0,a.normalizeText)(t),o=e.items.filter((e=>e.cleanText.includes(n))).sort(((e,t)=>e.cleanText.localeCompare(t.cleanText)));if(e.items=o,!e.items.length&&n){const o={value:t,cleanText:n,name:"",email:"",isNew:!0,label:t,id:0};e.items.push(o)}return e})(o.search(e),e),renderItem:(e,t)=>(null==e?void 0:e.isNew)?(0,S.H)((0,M.T7)(R("+",D._s.cls("-large"),R.cls("-invalid",(e=>!e(v)))),(0,M.rk)(O(k("Invite new member")),P(l.dom.text((e=>k("We'll email an invite to {{email}}",{email:e(s)}))))),(0,p.testId)("um-add-email"))):(0,S.H)((0,M.T7)((0,M.XL)((0,D.O_)(e,"large")),(0,M.rk)(O(e.name,(0,p.testId)("um-member-name")),P((0,a.buildHighlightedDom)(e.label,t,F))))),getItemText:e=>e.value,onClick:f},y=(0,M.j$)((0,M.bE)("Mail"),d=(0,M.fe)(s,{onInput:!0,isValid:m},{type:"email",placeholder:k("Enter email address")},l.dom.on("input",u),l.dom.on("focus",u),l.dom.on("click",u),l.dom.on("blur",h),l.dom.onKeyDown({Escape:b,Enter:()=>{c.isEmpty()?u():f()},ArrowDown:u,Tab:f})),M.j$.cls("-green",v),...n);return e.autoDispose(s.addListener((()=>d.setCustomValidity("")))),r&&setTimeout((()=>d.focus()),0),y}(this,{acIndex:new a.ACIndexImpl(e),emailObs:this._email,save:this._handleSave.bind(this),prompt:this._prompt},(0,p.testId)("um-member-new"))}_handleSave(e){this._onAdd(e,r.ad)}}function we(e,...t){return e&&Te($e("Copy"),fe("Copy Link"),l.dom.on("click",((t,n)=>async function(e,t){await(0,c.copyToClipboard)(t),(0,d.setTestState)({clipboard:t}),(0,pe.showTransientTooltip)(e,fe("Link copied to clipboard"),{key:"copy-doc-link"})}(n,e))),(0,p.testId)("um-copy-link"),...t)}const _e=(0,l.styled)("div",`\n  display: flex;\n  flex-direction: column;\n  width: 600px;\n  font-size: ${p.vars.mediumFontSize};\n`),Ie=(0,l.styled)(_e,`\n  height: 374px;\n  border-bottom: 1px solid ${p.theme.modalBorderDark};\n`),Ae=(0,l.styled)("div","\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 32px;\n"),Te=(0,l.styled)(u.basicButton,"\n  border: none;\n  font-weight: normal;\n  padding: 0 8px;\n  &-header {\n    float: right;\n    margin-top: 8px;\n  }\n"),$e=(0,l.styled)(h.icon,"\n  margin-right: 4px;\n  margin-top: -2px;\n"),Se=(0,l.styled)("div",`\n  font-size: ${p.vars.mediumFontSize};\n  margin: 0 63px 23px 63px;\n`),Ee=(0,l.styled)("div",`\n  margin: 0 63px 12px 63px;\n  font-size: ${p.vars.mediumFontSize};\n  display: flex;\n  cursor: pointer;\n  color: ${p.theme.controlFg};\n  --icon-color: ${p.theme.controlFg};\n\n  &:hover {\n    color: ${p.theme.controlHoverFg};\n    --icon-color: ${p.theme.controlHoverFg};\n  }\n`),Me=(0,l.styled)("span","\n  margin-left: 4px;\n"),De=(0,l.styled)("span",`\n  display: inline-flex;\n  font-size: ${p.vars.mediumFontSize};\n  color: ${p.theme.controlFg};\n  cursor: pointer;\n`),Ce=(0,l.styled)(h.icon,`\n  width: 40px;\n  height: 40px;\n  margin: 0 4px;\n  --icon-color: ${p.theme.accentIcon};\n`),ke=(0,l.styled)(Ce,"\n  width: 16px;\n  height: 16px;\n  top: -2px;\n"),Oe=(0,l.styled)(h.icon,`\n  --icon-color: ${p.theme.accentIcon};\n`),Pe=(0,l.styled)(h.icon,`\n  --icon-color: ${p.theme.controlSecondaryFg};\n  margin: 12px 0;\n`),Fe=(0,l.styled)("div",`\n  display: flex;\n  justify-content: flex-end;\n  font-size: ${p.vars.mediumFontSize};\n  color: ${p.theme.controlFg};\n  margin: 12px 24px;\n  cursor: pointer;\n\n  &.disabled {\n    opacity: 0.5;\n    cursor: default;\n  }\n`),Re=(0,l.styled)(h.icon,`\n  margin-top: 1px;\n  background-color: ${p.theme.controlFg};\n`),Ue=(0,l.styled)(he.Y3,"\n  align-self: center;\n  margin-left: auto;\n"),ze=(0,l.styled)("div",`\n  font-size: ${p.vars.largeFontSize};\n`),Ne=(0,l.styled)("span",`\n  color: ${p.theme.accentText};\n`),Be=(0,l.styled)(m.cssModalTitle,`\n  margin: 40px 64px 0 64px;\n\n  @media ${p.mediaXSmall} {\n    & {\n      margin: 16px;\n    }\n  }\n`),je=(0,l.styled)(M.gE,"\n  display: flex;\n  align-items: center;\n  gap: 8px;\n")},91033:(e,t,n)=>{"use strict";n.d(t,{J7:()=>l,Y2:()=>r});var o=n(29922),s=n(1310);const i=(0,s.styled)("input",`\n  font-size: ${o.vars.mediumFontSize};\n  height: 48px;\n  line-height: 20px;\n  width: 100%;\n  padding: 14px;\n  border: 1px solid ${o.theme.inputBorder};\n  border-radius: 4px;\n  outline: none;\n  display: block;\n  color: ${o.theme.inputFg};\n  background-color: ${o.theme.inputBg};\n\n  &::placeholder {\n    color: ${o.theme.inputPlaceholderFg};\n  }\n\n  &[type=number] {\n    -moz-appearance: textfield;\n  }\n  &[type=number]::-webkit-inner-spin-button,\n  &[type=number]::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  &-invalid {\n    border: 1px solid ${o.theme.inputInvalid};\n  }\n\n  &-valid {\n    border: 1px solid ${o.theme.inputValid};\n  }\n`);function r(e,...t){return i(s.dom.prop("value",e),s.dom.on("input",((t,n)=>e.set(n.value))),...t)}function l(e,t,...n){const o=t.isValid;function i(t){e.set(t.value),o&&o.set(t.validity.valid)}return(0,s.dom)("textarea",...n,s.dom.prop("value",e),o?t=>s.dom.autoDisposeElem(t,(0,s.subscribe)(e,(e=>o.set(t.checkValidity())))):null,t.onInput?s.dom.on("input",((e,t)=>i(t))):null,s.dom.on("change",((e,t)=>i(t))))}},98987:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var o=n(1310);function s(...e){const t=o.Observable.create(null,!0),n=o.Observable.create(null,!0);return r(o.dom.autoDispose(t),o.dom.autoDispose(n),(e=>{setTimeout((()=>n.set(i(e))),0)}),o.dom.on("scroll",((e,o)=>{t.set(function(e){return 0===e.scrollTop}(o)),n.set(i(o))})),o.dom.style("box-shadow",(e=>[e(t)?null:"inset 0 4px 6px 0 rgba(217,217,217,0.4)",e(n)?null:"inset 0 -4px 6px 0 rgba(217,217,217,0.4)"].filter((e=>e)).join(", "))),...e)}function i(e){return e.scrollTop>=e.scrollHeight-e.offsetHeight}const r=(0,o.styled)("div","\n  flex: 1 1 0;\n  width: 100%;\n  overflow-y: auto;\n")},4294:(e,t,n)=>{"use strict";function o(e){return e.toLowerCase()}n.d(t,{R:()=>o})},39492:e=>{e.exports=function(e){return e.split("")}},62474:(e,t,n)=>{var o=n(29779),s=n(1656);e.exports=function(e){return s(e)&&"[object RegExp]"==o(e)}},77481:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},85290:e=>{e.exports=function(e,t,n){var o=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(s);++o<s;)i[o]=e[o+t];return i}},66486:(e,t,n)=>{var o=n(26263);e.exports=function(e,t){var n;return o(e,(function(e,o,s){return!(n=t(e,o,s))})),!!n}},36997:(e,t,n)=>{var o=n(85290);e.exports=function(e,t,n){var s=e.length;return n=void 0===n?s:n,!t&&n>=s?e:o(e,t,n)}},35012:(e,t,n)=>{var o=n(77481)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});e.exports=o},92774:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},2164:(e,t,n)=>{var o=n(39492),s=n(92774),i=n(14315);e.exports=function(e){return s(e)?i(e):o(e)}},14315:e=>{var t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",r="(?:"+t+"|"+n+")?",l="[\\ufe0e\\ufe0f]?",a=l+r+"(?:\\u200d(?:"+[o,s,i].join("|")+")"+l+r+")*",c="(?:"+[o+t+"?",t,s,i,"[\\ud800-\\udfff]"].join("|")+")",d=RegExp(n+"(?="+n+")|"+c+a,"g");e.exports=function(e){return e.match(d)||[]}},8308:(e,t,n)=>{var o=n(35012),s=n(40879),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,r=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=s(e))&&e.replace(i,o).replace(r,"")}},41469:(e,t,n)=>{var o=n(40879),s=/[\\^$.*+?()[\]{}|]/g,i=RegExp(s.source);e.exports=function(e){return(e=o(e))&&i.test(e)?e.replace(s,"\\$&"):e}},41349:(e,t,n)=>{var o=n(62474),s=n(18885),i=n(81828),r=i&&i.isRegExp,l=r?s(r):o;e.exports=l},2278:(e,t,n)=>{var o=n(99905),s=n(41189),i=n(66486),r=n(89312),l=n(51275);e.exports=function(e,t,n){var a=r(e)?o:i;return n&&l(e,t,n)&&(t=void 0),a(e,s(t,3))}},95030:(e,t,n)=>{var o=n(93340),s=n(36997),i=n(92774),r=n(51275),l=n(41349),a=n(2164),c=n(40879);e.exports=function(e,t,n){return n&&"number"!=typeof n&&r(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=c(e))&&("string"==typeof t||null!=t&&!l(t))&&!(t=o(t))&&i(e)?s(a(e),0,n):e.split(t,n):[]}}}]);
//# sourceMappingURL=559.bundle.js.map