goog.provide("re_frame.trace");
(function (){
re_frame.trace.id = cljs.core.atom.call(null,(0)); return (
new cljs.core.Var(function(){return re_frame.trace.id;},new cljs.core.Symbol("re-frame.trace","id","re-frame.trace/id",(1321378737),null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",(441598760)),new cljs.core.Keyword(null,"name","name",(1843675177)),new cljs.core.Keyword(null,"file","file",(-1269645878)),new cljs.core.Keyword(null,"end-column","end-column",(1425389514)),new cljs.core.Keyword(null,"column","column",(2078222095)),new cljs.core.Keyword(null,"line","line",(212345235)),new cljs.core.Keyword(null,"end-line","end-line",(1837326455)),new cljs.core.Keyword(null,"arglists","arglists",(1661989754)),new cljs.core.Keyword(null,"doc","doc",(1913296891)),new cljs.core.Keyword(null,"test","test",(577538877))],[new cljs.core.Symbol(null,"re-frame.trace","re-frame.trace",(-1584328505),null),new cljs.core.Symbol(null,"id","id",(252129435),null),"re_frame/trace.cljc",(8),(1),(10),(10),cljs.core.List.EMPTY,null,(cljs.core.truth_(re_frame.trace.id)?re_frame.trace.id.cljs$lang$test:null)])));})()
;
(function (){
re_frame.trace._STAR_current_trace_STAR_ = null; return (
new cljs.core.Var(function(){return re_frame.trace._STAR_current_trace_STAR_;},new cljs.core.Symbol("re-frame.trace","*current-trace*","re-frame.trace/*current-trace*",(-1928561546),null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",(441598760)),new cljs.core.Keyword(null,"name","name",(1843675177)),new cljs.core.Keyword(null,"file","file",(-1269645878)),new cljs.core.Keyword(null,"end-column","end-column",(1425389514)),new cljs.core.Keyword(null,"column","column",(2078222095)),new cljs.core.Keyword(null,"dynamic","dynamic",(704819571)),new cljs.core.Keyword(null,"line","line",(212345235)),new cljs.core.Keyword(null,"end-line","end-line",(1837326455)),new cljs.core.Keyword(null,"arglists","arglists",(1661989754)),new cljs.core.Keyword(null,"doc","doc",(1913296891)),new cljs.core.Keyword(null,"test","test",(577538877))],[new cljs.core.Symbol(null,"re-frame.trace","re-frame.trace",(-1584328505),null),new cljs.core.Symbol(null,"*current-trace*","*current-trace*",(-833689188),null),"re_frame/trace.cljc",(31),(1),true,(11),(11),cljs.core.List.EMPTY,null,(cljs.core.truth_(re_frame.trace._STAR_current_trace_STAR_)?re_frame.trace._STAR_current_trace_STAR_.cljs$lang$test:null)])));})()
;
(function (){
re_frame.trace.reset_tracing_BANG_ = (function re_frame$trace$reset_tracing_BANG_(){
return cljs.core.reset_BANG_.call(null,re_frame.trace.id,(0));
}); return (
new cljs.core.Var(function(){return re_frame.trace.reset_tracing_BANG_;},new cljs.core.Symbol("re-frame.trace","reset-tracing!","re-frame.trace/reset-tracing!",(1693078249),null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",(441598760)),new cljs.core.Keyword(null,"name","name",(1843675177)),new cljs.core.Keyword(null,"file","file",(-1269645878)),new cljs.core.Keyword(null,"end-column","end-column",(1425389514)),new cljs.core.Keyword(null,"column","column",(2078222095)),new cljs.core.Keyword(null,"line","line",(212345235)),new cljs.core.Keyword(null,"end-line","end-line",(1837326455)),new cljs.core.Keyword(null,"arglists","arglists",(1661989754)),new cljs.core.Keyword(null,"doc","doc",(1913296891)),new cljs.core.Keyword(null,"test","test",(577538877))],[new cljs.core.Symbol(null,"re-frame.trace","re-frame.trace",(-1584328505),null),new cljs.core.Symbol(null,"reset-tracing!","reset-tracing!",(-1439908413),null),"re_frame/trace.cljc",(21),(1),(13),(13),cljs.core.list(cljs.core.PersistentVector.EMPTY),null,(cljs.core.truth_(re_frame.trace.reset_tracing_BANG_)?re_frame.trace.reset_tracing_BANG_.cljs$lang$test:null)])));})()
;
(function (){
re_frame.trace.trace_enabled_QMARK_; return (
new cljs.core.Var(function(){return re_frame.trace.trace_enabled_QMARK_;},new cljs.core.Symbol("re-frame.trace","trace-enabled?","re-frame.trace/trace-enabled?",(-673774556),null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",(441598760)),new cljs.core.Keyword(null,"name","name",(1843675177)),new cljs.core.Keyword(null,"file","file",(-1269645878)),new cljs.core.Keyword(null,"end-column","end-column",(1425389514)),new cljs.core.Keyword(null,"column","column",(2078222095)),new cljs.core.Keyword(null,"line","line",(212345235)),new cljs.core.Keyword(null,"declared","declared",(92336021)),new cljs.core.Keyword(null,"end-line","end-line",(1837326455)),new cljs.core.Keyword(null,"arglists","arglists",(1661989754)),new cljs.core.Keyword(null,"doc","doc",(1913296891)),new cljs.core.Keyword(null,"test","test",(577538877))],[new cljs.core.Symbol(null,"re-frame.trace","re-frame.trace",(-1584328505),null),new cljs.core.Symbol(null,"trace-enabled?","trace-enabled?",(-1877362722),null),"re_frame/trace.cljc",(37),(10),(16),true,(16),cljs.core.List.EMPTY,null,(cljs.core.truth_(re_frame.trace.trace_enabled_QMARK_)?re_frame.trace.trace_enabled_QMARK_.cljs$lang$test:null)])));})()
;

/** @define {boolean} */
goog.define("re_frame.trace.trace_enabled_QMARK_",false);
/**
 * See https://groups.google.com/d/msg/clojurescript/jk43kmYiMhA/IHglVr_TPdgJ for more details
 */
(function (){
re_frame.trace.is_trace_enabled_QMARK_ = (function re_frame$trace$is_trace_enabled_QMARK_(){
return re_frame.trace.trace_enabled_QMARK_;
}); return (
new cljs.core.Var(function(){return re_frame.trace.is_trace_enabled_QMARK_;},new cljs.core.Symbol("re-frame.trace","is-trace-enabled?","re-frame.trace/is-trace-enabled?",(-746708463),null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",(441598760)),new cljs.core.Keyword(null,"name","name",(1843675177)),new cljs.core.Keyword(null,"file","file",(-1269645878)),new cljs.core.Keyword(null,"end-column","end-column",(1425389514)),new cljs.core.Keyword(null,"column","column",(2078222095)),new cljs.core.Keyword(null,"line","line",(212345235)),new cljs.core.Keyword(null,"end-line","end-line",(1837326455)),new cljs.core.Keyword(null,"tag","tag",(-1290361223)),new cljs.core.Keyword(null,"arglists","arglists",(1661989754)),new cljs.core.Keyword(null,"doc","doc",(1913296891)),new cljs.core.Keyword(null,"test","test",(577538877))],[new cljs.core.Symbol(null,"re-frame.trace","re-frame.trace",(-1584328505),null),new cljs.core.Symbol(null,"is-trace-enabled?","is-trace-enabled?",(305372975),null),"re_frame/trace.cljc",(33),(1),(19),(19),new cljs.core.Symbol(null,"boolean","boolean",(-278886877),null),cljs.core.list(cljs.core.PersistentVector.EMPTY),"See https://groups.google.com/d/msg/clojurescript/jk43kmYiMhA/IHglVr_TPdgJ for more details",((re_frame.trace.is_trace_enabled_QMARK_)?re_frame.trace.is_trace_enabled_QMARK_.cljs$lang$test:null)])));})()
;
(function (){
re_frame.trace.trace_cbs = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY); return (
new cljs.core.Var(function(){return re_frame.trace.trace_cbs;},new cljs.core.Symbol("re-frame.trace","trace-cbs","re-frame.trace/trace-cbs",(-1947456548),null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",(441598760)),new cljs.core.Keyword(null,"name","name",(1843675177)),new cljs.core.Keyword(null,"file","file",(-1269645878)),new cljs.core.Keyword(null,"end-column","end-column",(1425389514)),new cljs.core.Keyword(null,"column","column",(2078222095)),new cljs.core.Keyword(null,"line","line",(212345235)),new cljs.core.Keyword(null,"end-line","end-line",(1837326455)),new cljs.core.Keyword(null,"arglists","arglists",(1661989754)),new cljs.core.Keyword(null,"doc","doc",(1913296891)),new cljs.core.Keyword(null,"test","test",(577538877))],[new cljs.core.Symbol(null,"re-frame.trace","re-frame.trace",(-1584328505),null),new cljs.core.Symbol(null,"trace-cbs","trace-cbs",(1227867850),null),"re_frame/trace.cljc",(15),(1),(24),(24),cljs.core.List.EMPTY,null,(cljs.core.truth_(re_frame.trace.trace_cbs)?re_frame.trace.trace_cbs.cljs$lang$test:null)])));})()
;
/**
 * Registers a tracing callback function which will receive a collection of one or more traces.
 *   Will replace an existing callback function if it shares the same key.
 */
(function (){
re_frame.trace.register_trace_cb = (function re_frame$trace$register_trace_cb(key,f){
return cljs.core.swap_BANG_.call(null,re_frame.trace.trace_cbs,cljs.core.assoc,key,f);
}); return (
new cljs.core.Var(function(){return re_frame.trace.register_trace_cb;},new cljs.core.Symbol("re-frame.trace","register-trace-cb","re-frame.trace/register-trace-cb",(-1257060230),null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",(441598760)),new cljs.core.Keyword(null,"name","name",(1843675177)),new cljs.core.Keyword(null,"file","file",(-1269645878)),new cljs.core.Keyword(null,"end-column","end-column",(1425389514)),new cljs.core.Keyword(null,"column","column",(2078222095)),new cljs.core.Keyword(null,"line","line",(212345235)),new cljs.core.Keyword(null,"end-line","end-line",(1837326455)),new cljs.core.Keyword(null,"arglists","arglists",(1661989754)),new cljs.core.Keyword(null,"doc","doc",(1913296891)),new cljs.core.Keyword(null,"test","test",(577538877))],[new cljs.core.Symbol(null,"re-frame.trace","re-frame.trace",(-1584328505),null),new cljs.core.Symbol(null,"register-trace-cb","register-trace-cb",(-161644692),null),"re_frame/trace.cljc",(24),(1),(26),(26),cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"key","key",(124488940),null),new cljs.core.Symbol(null,"f","f",(43394975),null)], null)),"Registers a tracing callback function which will receive a collection of one or more traces.\n  Will replace an existing callback function if it shares the same key.",(cljs.core.truth_(re_frame.trace.register_trace_cb)?re_frame.trace.register_trace_cb.cljs$lang$test:null)])));})()
;
(function (){
re_frame.trace.remove_trace_cb = (function re_frame$trace$remove_trace_cb(key){
cljs.core.swap_BANG_.call(null,re_frame.trace.trace_cbs,cljs.core.dissoc,key);

return null;
}); return (
new cljs.core.Var(function(){return re_frame.trace.remove_trace_cb;},new cljs.core.Symbol("re-frame.trace","remove-trace-cb","re-frame.trace/remove-trace-cb",(124376002),null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",(441598760)),new cljs.core.Keyword(null,"name","name",(1843675177)),new cljs.core.Keyword(null,"file","file",(-1269645878)),new cljs.core.Keyword(null,"end-column","end-column",(1425389514)),new cljs.core.Keyword(null,"column","column",(2078222095)),new cljs.core.Keyword(null,"line","line",(212345235)),new cljs.core.Keyword(null,"end-line","end-line",(1837326455)),new cljs.core.Keyword(null,"arglists","arglists",(1661989754)),new cljs.core.Keyword(null,"doc","doc",(1913296891)),new cljs.core.Keyword(null,"test","test",(577538877))],[new cljs.core.Symbol(null,"re-frame.trace","re-frame.trace",(-1584328505),null),new cljs.core.Symbol(null,"remove-trace-cb","remove-trace-cb",(-995197220),null),"re_frame/trace.cljc",(22),(1),(32),(32),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"key","key",(124488940),null)], null)),null,(cljs.core.truth_(re_frame.trace.remove_trace_cb)?re_frame.trace.remove_trace_cb.cljs$lang$test:null)])));})()
;
(function (){
re_frame.trace.next_id = (function re_frame$trace$next_id(){
return cljs.core.swap_BANG_.call(null,re_frame.trace.id,cljs.core.inc);
}); return (
new cljs.core.Var(function(){return re_frame.trace.next_id;},new cljs.core.Symbol("re-frame.trace","next-id","re-frame.trace/next-id",(355406551),null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",(441598760)),new cljs.core.Keyword(null,"name","name",(1843675177)),new cljs.core.Keyword(null,"file","file",(-1269645878)),new cljs.core.Keyword(null,"end-column","end-column",(1425389514)),new cljs.core.Keyword(null,"column","column",(2078222095)),new cljs.core.Keyword(null,"line","line",(212345235)),new cljs.core.Keyword(null,"end-line","end-line",(1837326455)),new cljs.core.Keyword(null,"arglists","arglists",(1661989754)),new cljs.core.Keyword(null,"doc","doc",(1913296891)),new cljs.core.Keyword(null,"test","test",(577538877))],[new cljs.core.Symbol(null,"re-frame.trace","re-frame.trace",(-1584328505),null),new cljs.core.Symbol(null,"next-id","next-id",(1416290765),null),"re_frame/trace.cljc",(14),(1),(36),(36),cljs.core.list(cljs.core.PersistentVector.EMPTY),null,(cljs.core.truth_(re_frame.trace.next_id)?re_frame.trace.next_id.cljs$lang$test:null)])));})()
;
(function (){
re_frame.trace.start_trace = (function re_frame$trace$start_trace(p__174){
var map__177 = p__174;
var map__177__$1 = ((((!((map__177 == null)))?((((map__177.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__177.cljs$core$ISeq$)))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__177):map__177);
var operation = cljs.core.get.call(null,map__177__$1,new cljs.core.Keyword(null,"operation","operation",(-1267664310)));
var op_type = cljs.core.get.call(null,map__177__$1,new cljs.core.Keyword(null,"op-type","op-type",(-1636141668)));
var tags = cljs.core.get.call(null,map__177__$1,new cljs.core.Keyword(null,"tags","tags",(1771418977)));
var child_of = cljs.core.get.call(null,map__177__$1,new cljs.core.Keyword(null,"child-of","child-of",(-903376662)));
return new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"id","id",(-1388402092)),re_frame.trace.next_id.call(null),new cljs.core.Keyword(null,"operation","operation",(-1267664310)),operation,new cljs.core.Keyword(null,"op-type","op-type",(-1636141668)),op_type,new cljs.core.Keyword(null,"tags","tags",(1771418977)),tags,new cljs.core.Keyword(null,"child-of","child-of",(-903376662)),(function (){var or__23109__auto__ = child_of;
if(cljs.core.truth_(or__23109__auto__)){
return or__23109__auto__;
} else {
return new cljs.core.Keyword(null,"id","id",(-1388402092)).cljs$core$IFn$_invoke$arity$1(re_frame.trace._STAR_current_trace_STAR_);
}
})(),new cljs.core.Keyword(null,"start","start",(-355208981)),re_frame.interop.now.call(null)], null);
}); return (
new cljs.core.Var(function(){return re_frame.trace.start_trace;},new cljs.core.Symbol("re-frame.trace","start-trace","re-frame.trace/start-trace",(-774485496),null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",(441598760)),new cljs.core.Keyword(null,"name","name",(1843675177)),new cljs.core.Keyword(null,"file","file",(-1269645878)),new cljs.core.Keyword(null,"end-column","end-column",(1425389514)),new cljs.core.Keyword(null,"column","column",(2078222095)),new cljs.core.Keyword(null,"line","line",(212345235)),new cljs.core.Keyword(null,"end-line","end-line",(1837326455)),new cljs.core.Keyword(null,"arglists","arglists",(1661989754)),new cljs.core.Keyword(null,"doc","doc",(1913296891)),new cljs.core.Keyword(null,"test","test",(577538877))],[new cljs.core.Symbol(null,"re-frame.trace","re-frame.trace",(-1584328505),null),new cljs.core.Symbol(null,"start-trace","start-trace",(270253950),null),"re_frame/trace.cljc",(18),(1),(38),(38),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"keys","keys",(1068423698)),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"operation","operation",(372867217),null),new cljs.core.Symbol(null,"op-type","op-type",(4389859),null),new cljs.core.Symbol(null,"tags","tags",(-883016792),null),new cljs.core.Symbol(null,"child-of","child-of",(737154865),null)], null)], null)], null)),null,(cljs.core.truth_(re_frame.trace.start_trace)?re_frame.trace.start_trace.cljs$lang$test:null)])));})()
;
